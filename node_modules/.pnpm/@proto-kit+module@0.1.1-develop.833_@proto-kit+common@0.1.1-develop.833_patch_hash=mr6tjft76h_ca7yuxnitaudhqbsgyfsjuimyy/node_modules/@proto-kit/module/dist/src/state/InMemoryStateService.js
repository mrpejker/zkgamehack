/**
 * Naive implementation of an in-memory variant of the StateService interface
 */
export class InMemoryStateService {
    constructor() {
        /**
         * This mapping container null values if the specific entry has been deleted.
         * This is used by the CachedState service to keep track of deletions
         */
        Object.defineProperty(this, "values", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: {}
        });
    }
    get(key) {
        return this.values[key.toString()] ?? undefined;
    }
    set(key, value) {
        if (value === undefined) {
            this.values[key.toString()] = null;
        }
        else {
            this.values[key.toString()] = value;
        }
    }
}
