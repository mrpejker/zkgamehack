import { Field, PublicKey, Signature, Struct, UInt64 } from "o1js";
export class ProtocolTransaction extends Struct({
    methodId: Field,
    nonce: UInt64,
    sender: PublicKey,
    argsHash: Field,
    signature: Signature,
}) {
    static getSignatureData(args) {
        return [args.methodId, ...args.nonce.toFields(), args.argsHash];
    }
    getSignatureData() {
        return ProtocolTransaction.getSignatureData(this);
    }
    validateSignature() {
        return this.signature.verify(this.sender, this.getSignatureData());
    }
}
