import { Field, Struct } from "o1js";
import { match } from "ts-pattern";
export class BlockTransactionPosition extends Struct({
    type: Field,
}) {
    static fromPositionType(type) {
        return new BlockTransactionPosition({
            type: Field(BlockTransactionPosition.fieldMapping[type]).toConstant(),
        });
    }
    static positionTypeFromIndex(index, bundleLength) {
        return match(index)
            .with(0, () => "FIRST")
            .with(bundleLength - 1, () => "LAST")
            .otherwise(() => "MIDDLE");
    }
    equals(type) {
        return this.type.equals(type.type);
    }
}
BlockTransactionPosition.fieldMapping = {
    FIRST: 0,
    MIDDLE: 1,
    LAST: 2,
};
