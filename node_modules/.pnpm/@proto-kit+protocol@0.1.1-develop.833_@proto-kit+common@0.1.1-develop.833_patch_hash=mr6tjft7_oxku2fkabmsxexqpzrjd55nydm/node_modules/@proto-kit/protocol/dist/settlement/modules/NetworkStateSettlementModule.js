import { ProvableSettlementHook, } from "../modularity/ProvableSettlementHook";
/* eslint-disable @typescript-eslint/no-unused-vars */
export class NetworkStateSettlementModule extends ProvableSettlementHook {
    async beforeSettlement(smartContract, { blockProof, fromNetworkState, toNetworkState, contractState, currentL1Block, }) {
        const { lastSettlementL1Block } = contractState;
        const blocksPerL1Block = this.config.blocksPerL1Block.toConstant();
        const numL1Blocks = currentL1Block.sub(lastSettlementL1Block);
        const expectedHeightDiff = numL1Blocks.toUInt64().mul(blocksPerL1Block);
        const actualHeightDiff = toNetworkState.block.height.sub(fromNetworkState.block.height);
        const acceptableDerivation = numL1Blocks.mul(1).div(10);
        // TODO Check within bounds efficiently
    }
}
/* eslint-enable @typescript-eslint/no-unused-vars */
