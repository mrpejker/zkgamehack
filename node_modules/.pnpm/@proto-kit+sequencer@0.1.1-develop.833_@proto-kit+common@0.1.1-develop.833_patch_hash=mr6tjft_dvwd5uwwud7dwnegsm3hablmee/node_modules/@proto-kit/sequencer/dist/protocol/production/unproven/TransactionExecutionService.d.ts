import { Protocol, ProtocolModulesRecord, RuntimeMethodExecutionContext, StateServiceProvider, MandatoryProtocolModulesRecord } from "@proto-kit/protocol";
import { Runtime, RuntimeModulesRecord } from "@proto-kit/module";
import { PendingTransaction } from "../../../mempool/PendingTransaction";
import { CachedStateService } from "../../../state/state/CachedStateService";
import { AsyncMerkleTreeStore } from "../../../state/async/AsyncMerkleTreeStore";
import { UnprovenBlock, UnprovenBlockMetadata, UnprovenBlockWithMetadata } from "../../../storage/model/UnprovenBlock";
export type SomeRuntimeMethod = (...args: unknown[]) => Promise<unknown>;
export declare class TransactionExecutionService {
    private readonly runtime;
    private readonly protocol;
    private readonly executionContext;
    private readonly stateServiceProvider;
    private readonly transactionHooks;
    private readonly blockHooks;
    constructor(runtime: Runtime<RuntimeModulesRecord>, protocol: Protocol<MandatoryProtocolModulesRecord & ProtocolModulesRecord>, executionContext: RuntimeMethodExecutionContext, stateServiceProvider: StateServiceProvider);
    private allKeys;
    private applyTransitions;
    private collectStateDiff;
    private decodeTransaction;
    private getAppChainForModule;
    private executeWithExecutionContext;
    private executeRuntimeMethod;
    private wrapHooksForContext;
    private executeProtocolHooks;
    /**
     * Main entry point for creating a unproven block with everything
     * attached that is needed for tracing
     */
    createUnprovenBlock(stateService: CachedStateService, transactions: PendingTransaction[], lastBlockWithMetadata: UnprovenBlockWithMetadata, allowEmptyBlocks: boolean): Promise<UnprovenBlock | undefined>;
    generateMetadataForNextBlock(block: UnprovenBlock, merkleTreeStore: AsyncMerkleTreeStore, blockHashTreeStore: AsyncMerkleTreeStore, modifyTreeStore?: boolean): Promise<UnprovenBlockMetadata>;
    private createExecutionTrace;
}
//# sourceMappingURL=TransactionExecutionService.d.ts.map